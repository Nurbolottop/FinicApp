{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %} || {{ settings.title }} || {{ settings.title }}</title>
    <!-- favicons Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="{{settings.icon.url}}" />
    <link rel="icon" type="image/png" sizes="32x32" href="{{settings.icon.url}}" />
    <link rel="icon" type="image/png" sizes="16x16" href="{{settings.icon.url}}" />
    <link rel="manifest" href="{{settings.icon.url}}" />
    <meta name="description" content="{{settings.description}}" />

    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap"
        rel="stylesheet">


    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
        rel="stylesheet">


    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/animate.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/custom-animate.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/swiper.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/font-awesome-all.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/jarallax.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/jquery.magnific-popup.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/odometer.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/owl.theme.default.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/nice-select.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/jquery-ui.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/aos.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/twentytwenty.css' %}" />


    <link rel="stylesheet" href="{% static 'assets/css/module-css/banner.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/slider.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/footer.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/sliding-text.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/about.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/services.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/counter.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/before-and-after.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/office-location.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/pricing.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/blog.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/newsletter.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/faq.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/team.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/testimonial.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/why-choose.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/process.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/project.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/contact.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/page-header.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/module-css/google-map.css' %}" />

    <!-- template styles -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    <!-- custom overrides -->
    <link rel="stylesheet" href="{% static 'assets/css/custom.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}" />

    <style>
        #christmas-snow {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
        }
        @media (prefers-reduced-motion: reduce) {
            #christmas-snow { display: none; }
        }
    </style>
</head>

<body class="custom-cursor">
    <canvas id="christmas-snow" aria-hidden="true"></canvas>
    {% block content %}
    {% endblock %}
    <script src="{% static 'assets/js/jquery-latest.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/jarallax.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.ajaxchimp.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.appear.min.js' %}"></script>
    <script src="{% static 'assets/js/swiper.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.validate.min.js' %}"></script>
    <script src="{% static 'assets/js/odometer.min.js' %}"></script>
    <script src="{% static 'assets/js/wNumb.min.js' %}"></script>
    <script src="{% static 'assets/js/wow.js' %}"></script>
    <script src="{% static 'assets/js/isotope.js' %}"></script>
    <script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery-ui.js' %}"></script>
    <script src="{% static 'assets/js/jquery.nice-select.min.js' %}"></script>
    <script src="{% static 'assets/js/twentytwenty.js' %}"></script>
    <script src="{% static 'assets/js/jquery.event.move.js' %}"></script>
    <script src="{% static 'assets/js/marquee.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.circleType.js' %}"></script>
    <script src="{% static 'assets/js/jquery.fittext.js' %}"></script>
    <script src="{% static 'assets/js/jquery.lettering.min.js' %}"></script>
    <script src="{% static 'assets/js/typed-2.0.11.js' %}"></script>
    <script src="{% static 'assets/js/jquery-sidebar-content.js' %}"></script>
    <script src="{% static 'assets/js/countdown.min.js' %}"></script>
    <script src="{% static 'assets/js/aos.js' %}"></script>

    <script src="{% static 'assets/js/gsap/gsap.js' %}"></script>
    <script src="{% static 'assets/js/gsap/ScrollTrigger.js' %}"></script>
    <script src="{% static 'assets/js/gsap/SplitText.js' %}"></script>

    <!-- custom js -->
    <script src="{% static 'assets/js/custom.js' %}"></script>
    <!-- template js -->
    <script src="{% static 'assets/js/script.js' %}"></script>

    <script>
        (function () {
            const canvas = document.getElementById('christmas-snow');
            if (!canvas) return;
            const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (reduce) return;

            const ctx = canvas.getContext('2d');
            let w = 0;
            let h = 0;
            let dpr = 1;
            let flakes = [];
            const COUNT = 90;

            function resize() {
                dpr = Math.max(1, window.devicePixelRatio || 1);
                w = Math.floor(window.innerWidth);
                h = Math.floor(window.innerHeight);
                canvas.width = Math.floor(w * dpr);
                canvas.height = Math.floor(h * dpr);
                canvas.style.width = w + 'px';
                canvas.style.height = h + 'px';
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            }

            function rand(min, max) {
                return Math.random() * (max - min) + min;
            }

            function makeFlake() {
                return {
                    x: rand(0, w),
                    y: rand(-h, 0),
                    r: rand(1, 3.2),
                    vy: rand(0.8, 2.2),
                    vx: rand(-0.5, 0.5),
                    a: rand(0.35, 0.85),
                    drift: rand(0, Math.PI * 2)
                };
            }

            function init() {
                flakes = [];
                for (let i = 0; i < COUNT; i++) flakes.push(makeFlake());
            }

            function step() {
                ctx.clearRect(0, 0, w, h);
                ctx.fillStyle = '#111';
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.35)';
                ctx.lineWidth = 1;
                ctx.shadowBlur = 10;
                ctx.shadowColor = 'rgba(255, 255, 255, 0.22)';

                for (let i = 0; i < flakes.length; i++) {
                    const f = flakes[i];
                    f.drift += 0.01;
                    f.x += f.vx + Math.sin(f.drift) * 0.35;
                    f.y += f.vy;

                    if (f.y > h + 10) {
                        f.y = rand(-40, -10);
                        f.x = rand(0, w);
                    }
                    if (f.x < -10) f.x = w + 10;
                    if (f.x > w + 10) f.x = -10;

                    ctx.globalAlpha = f.a;
                    ctx.beginPath();
                    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.stroke();
                }

                ctx.globalAlpha = 1;
                ctx.shadowBlur = 0;
                requestAnimationFrame(step);
            }

            resize();
            init();
            step();
            window.addEventListener('resize', function () {
                resize();
                init();
            }, { passive: true });
        })();
    </script>
</body>

</html>